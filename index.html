<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Kavish â¤ï¸ Deshu</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap');

* { box-sizing:border-box; font-family:'Poppins', sans-serif; margin:0; padding:0; }
body {
  height:100vh; display:flex; justify-content:center; align-items:center;
  background: linear-gradient(135deg,#0f4c81,#4facfe);
  color:white; overflow:hidden; position:relative;
}
.screen { display:none; flex-direction:column; align-items:center; justify-content:center; width:100%; height:100%; text-align:center; padding:20px; }
.active { display:flex; }
.btn {
  padding:14px 28px; border-radius:30px; border:none;
  background:white; color:#0f4c81; font-size:18px; margin:12px;
  cursor:pointer; transition:0.3s; touch-action: manipulation;
}
.btn:hover { transform: scale(1.1); }

.teddies {
  font-size:80px; display:flex; justify-content:center;
  animation: hugkiss 2s infinite alternate ease-in-out;
  will-change: transform;
  backface-visibility: hidden;
  transform: translateZ(0);
}

@keyframes hugkiss {
  0% { transform: translate3d(0,0,0) scale(1); }
  50% { transform: translate3d(5px,0,0) scale(1.1) rotate(5deg); }
  100% { transform: translate3d(0,0,0) scale(1); }
}

.no {
  position:absolute; top:65%; left:50%; transform:translate(-50%,0);
  transition: all 0.3s ease;
  will-change: transform;
  backface-visibility: hidden;
  transform: translateZ(0);
}

.heart {
  position:absolute; font-size:22px; pointer-events:none;
  will-change: transform;
  backface-visibility: hidden;
  transform: translateZ(0);
}

@keyframes float {
  0% { transform: translate3d(0,100px,0) scale(1); opacity:0; }
  100% { transform: translate3d(0,-50px,0) scale(1.2); opacity:1; }
}

.card {
  background: rgba(255,255,255,0.15);
  padding:25px; border-radius:20px;
  max-width:90%; max-height:80%; overflow-y:auto;
}

@keyframes confettiFall {
  0% { transform: translate3d(0,-10px,0) rotate(0deg); }
  100% { transform: translate3d(0,100vh,0) rotate(360deg); }
}
</style>
</head>
<body>

<!-- Screens -->
<div id="intro" class="screen active">
  <div class="teddies">ğŸ§¸ğŸ¤ğŸ§¸</div>
  <h2>click here for more kalesh</h2>
  <button class="btn" id="bestBtn">kavish is the best</button>
</div>

<div id="question" class="screen">
  <h1>Deshu ğŸ’™</h1>
  <h2>Will you be my Valentine?</h2>
  <button class="btn" id="yesBtn">YES ğŸ’™</button>
  <button class="btn no" id="noBtn">NO ğŸ‘¹</button>
  <p id="noMsg" style="margin-top:20px;font-size:18px;"></p>
</div>

<div id="final" class="screen">
  <div class="card">
    <p>ğŸ’Œ Happy valentines honey ğŸ˜˜ğŸ¥°â€¦ [text truncated]</p>
  </div>
</div>

<!-- Audio -->
<audio id="music" loop src="https://cdn.pixabay.com/audio/2022/03/15/audio_5a0b1fae28.mp3"></audio>
<audio id="boing" src="https://cdn.pixabay.com/audio/2022/03/15/audio_aa8d3c9f89.mp3"></audio>

<script>
// Floating hearts
for (let i=0;i<10;i++){
  let h = document.createElement("div");
  h.className="heart";
  h.innerHTML="ğŸ’™";
  const w = window.innerWidth;
  const hgt = window.innerHeight;
  h.style.left = Math.random()*w + "px";
  h.style.top = Math.random()*hgt + "px";
  h.style.animation = `float ${4+Math.random()*3}s linear infinite`;
  document.body.appendChild(h);
}

// Elements
const intro = document.getElementById("intro");
const question = document.getElementById("question");
const final = document.getElementById("final");
const music = document.getElementById("music");
const boing = document.getElementById("boing");
const bestBtn = document.getElementById("bestBtn");
const yesBtn = document.getElementById("yesBtn");
const noBtn = document.getElementById("noBtn");
const noMsg = document.getElementById("noMsg");

let grow = 1;
let noMessages = ["Try again cutie","Not today honey","Almost!","Better luck next time","Nice try princess"];

// Start question screen (mobile & desktop)
bestBtn.addEventListener("click", startQuestion);
bestBtn.addEventListener("touchend", startQuestion,{passive:false});

function startQuestion(e){
  if(e.type==="touchend") e.preventDefault();
  intro.classList.remove("active");
  question.classList.add("active");
  music.volume = 0.3;
  music.play();
}

// NO button dodge
function moveNoButton(){
  boing.play();
  grow += 0.1;
  bestBtn.style.transform = `scale(${grow})`;
  const maxX = window.innerWidth - noBtn.offsetWidth;
  const maxY = window.innerHeight - noBtn.offsetHeight;
  noBtn.style.left = Math.random()*maxX + "px";
  noBtn.style.top = Math.random()*maxY + "px";
  noMsg.innerText = noMessages[Math.floor(Math.random()*noMessages.length)];
}

noBtn.addEventListener("mouseenter", moveNoButton);
noBtn.addEventListener("touchstart", moveNoButton,{passive:true});

// YES button
yesBtn.addEventListener("click", showFinal);
yesBtn.addEventListener("touchend", showFinal,{passive:false});

function showFinal(e){
  if(e.type==="touchend") e.preventDefault();
  question.classList.remove("active");
  final.classList.add("active");
  confetti("ğŸ’‹");
}

// Confetti
function confetti(emoji){
  for(let i=0;i<20;i++){
    let e = document.createElement("div");
    e.innerHTML=emoji;
    e.style.position="fixed";
    e.style.left = Math.random()*window.innerWidth+"px";
    e.style.top = "-10px";
    e.style.fontSize="24px";
    e.style.pointerEvents="none";
    e.style.animation="confettiFall 3s linear forwards";
    document.body.appendChild(e);
    setTimeout(()=>e.remove(),3000);
  }
}
</script>
</body>
</html>
